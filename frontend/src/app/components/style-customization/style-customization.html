<app-navbar></app-navbar>

<!-- FLOTANTE DERECHA: PORCENTAJE -->
<div class="floating-info" aria-label="Estado del documento">
  <div class="error-circle" [ngStyle]="{ '--percent': errorPercent + '%' }" role="progressbar"
    [attr.aria-valuenow]="errorPercent" aria-valuemin="0" aria-valuemax="100">
    <span aria-live="polite">{{ errorPercent }}% Error</span>
  </div>
</div>


<!-- ACCIONES -->
<div class="actions">
  <button type="button" (click)="corregirDocumento()" [disabled]="loading">
    {{ loading ? 'Procesando…' : 'Corregir documento' }}
  </button>

  <button type="button" (click)="descargarDocumentoCorregido()" [disabled]="!resultadoCorreccion">
    Descargar documento corregido
  </button>
</div>

<!-- VISOR DEL DOCUMENTO -->
<div class="viewer-container">
  <div class="header">
    <h1>Visualiza tu documento</h1>
    <p>Revisa el contenido extraído del archivo.</p>
  </div>

  <div class="document-box" *ngIf="documentContentHTML; else emptyState">
    <pre [innerHTML]="documentContentHTML"></pre>
  </div>


  <ng-template #emptyState>
    <p class="muted">Aún no hay contenido cargado.</p>
  </ng-template>
</div>