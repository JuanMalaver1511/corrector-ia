<app-navbar></app-navbar>
<div class="page-container">
    <div class="hero-section">
        <h2 class="hero-title">Genera cuestionarios inteligentes</h2>
        <p class="hero-description">
            Solicita la creación automática de cuestionarios personalizados en segundos,
            listos para evaluar y aprender.
        </p>
    </div>

    <div class="generator-section">
        <textarea 
            class="input-textarea" 
            placeholder="Ejemplo: 10 preguntas de opción múltiple sobre la fotosíntesis"
            rows="5" 
            [(ngModel)]="prompt"
            [disabled]="isLoading">
        </textarea>

        <button 
            class="btn-generate" 
            [disabled]="isLoading || !prompt.trim()" 
            (click)="analizeQuestionnaire()">
            {{ isLoading ? 'Generando...' : 'Generar cuestionario' }}
        </button>
        
        <!-- Loading -->
        <div *ngIf="isLoading">
            <app-loading></app-loading>
            <p style="text-align: center; margin-top: 1rem;">Generando tu cuestionario...</p>
        </div>

        <!-- Resultado -->
        <div *ngIf="!isLoading && result && result.length > 0" class="result-section">
            <h3>Cuestionario generado:</h3>
            <pre>{{ result }}</pre>
        </div>

        <!-- Botón de descarga -->
        <div class="download-section" *ngIf="!isLoading && result && result.length > 0">
            <button class="btn-download" (click)="download()">
                Descargar cuestionario
            </button>
        </div>
    </div>
</div>